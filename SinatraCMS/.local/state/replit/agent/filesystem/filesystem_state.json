{"file_contents":{"app.rb":{"content":"require_relative 'controllers/application_controller'\nrequire_relative 'controllers/book_controller'\n\n# Punto de entrada principal para la aplicación\n","size_bytes":151},"replit.md":{"content":"# Aplicación Web Ruby Sinatra\n\n## Descripción\nAplicación web completa construida con Ruby Sinatra que incluye:\n- ApplicationController como controlador principal\n- Vistas ERB con layout responsive\n- Integración con base de datos SQLite3 usando Sequel ORM\n- Estructura de modelos base\n- Directorio público para archivos estáticos\n\n## Estructura del Proyecto\n```\n/\n├── controllers/\n│   └── application_controller.rb  # Controlador principal de la aplicación\n├── models/\n│   ├── base_model.rb             # Modelo base con Sequel\n│   └── user.rb                   # Modelo de ejemplo\n├── views/\n│   ├── layout.erb                # Layout principal con CSS\n│   └── index.erb                 # Vista de página principal\n├── config/\n│   └── database.rb               # Configuración de base de datos SQLite3\n├── public/\n│   └── images/                   # Directorio para archivos estáticos\n├── db/                           # Base de datos SQLite3\n├── Gemfile                       # Dependencias Ruby\n├── config.ru                     # Configuración Rack\n└── app.rb                        # Punto de entrada\n```\n\n## Tecnologías Utilizadas\n- **Ruby 3.2** - Lenguaje de programación\n- **Sinatra 3.2** - Framework web minimalista\n- **Sequel 5.96** - ORM para base de datos\n- **SQLite3** - Base de datos embebida\n- **Puma** - Servidor web\n- **ERB** - Motor de plantillas\n\n## Estado Actual\n- ✅ Entorno Ruby configurado\n- ✅ Servidor Sinatra funcionando en puerto 5000\n- ✅ Base de datos SQLite3 configurada\n- ✅ Modelos con Sequel ORM\n- ✅ Vistas ERB con layout responsive\n- ✅ Directorio público para imágenes\n- ✅ Estructura MVC completa\n\n## Próximos Pasos Recomendados\n1. Crear migraciones de base de datos\n2. Implementar autenticación de usuarios\n3. Agregar más modelos y controladores\n4. Implementar formularios y validaciones\n5. Agregar CSS/JavaScript personalizado\n6. Configurar tests automatizados\n\n## Comandos Útiles\n- `bundle install` - Instalar dependencias\n- `bundle exec rackup` - Ejecutar servidor de desarrollo\n- `bundle exec sequel -m db/migrations sqlite://db/development.sqlite3` - Ejecutar migraciones (cuando se creen)\n\nFecha de creación: 5 de septiembre de 2025","size_bytes":2312},"config/database.rb":{"content":"require 'sequel'\nrequire 'logger'\n\nDB = Sequel.sqlite('db/development.sqlite3')\n\n# Configuración de logging para desarrollo\nDB.loggers << Logger.new($stdout) if defined?(Sinatra::Base) && Sinatra::Base.development?","size_bytes":215},"controllers/application_controller.rb":{"content":"require 'sinatra/base'\nrequire_relative '../config/database'\n\nclass ApplicationController < Sinatra::Base\n  configure do\n    set :views, File.expand_path('../views', __dir__)\n    set :public_folder, File.expand_path('../public', __dir__)\n    set :bind, '0.0.0.0'\n    set :port, 5000\n  end\n  \n  configure :development do\n    set :logging, true\n    set :dump_errors, true\n    set :show_exceptions, true\n  end\n\n  # Cargar modelos (se pueden cargar individualmente según sea necesario)\n  # Dir[File.expand_path('../models/*.rb', __dir__)].each { |file| require file }\n\n  # Ruta principal\n  get '/' do\n    erb :index\n  end\n\n  # Método helper para establecer el título de página\n  def page_title(title = \"Aplicación Sinatra\")\n    @page_title = title\n  end\n\n  # Ejecutar la aplicación si este archivo es ejecutado directamente\n  run! if app_file == $0\nend","size_bytes":854},"controllers/book_controller.rb":{"content":"require 'sinatra/base'\nrequire_relative '../config/database'\n\nclass BookController < ApplicationController\n  # Ruta principal\n  get '/books' do\n    'books'\n  end\nend\n","size_bytes":166},"models/base_model.rb":{"content":"require 'sequel'\n\n# Clase base para todos los modelos\nclass BaseModel < Sequel::Model\n  # Configuraciones comunes para todos los modelos\n  \n  def before_create\n    super\n    self.created_at ||= Time.now if respond_to?(:created_at)\n  end\n\n  def before_update\n    super\n    self.updated_at = Time.now if respond_to?(:updated_at)\n  end\nend","size_bytes":336},"models/user.rb":{"content":"require_relative 'base_model'\n\nclass User < BaseModel\n  # La tabla se creará automáticamente cuando sea necesaria\n  # o se puede crear con migraciones de Sequel\n  \n  # Validaciones de ejemplo\n  def validate\n    super\n    errors.add(:name, 'cannot be empty') if !name || name.empty?\n    errors.add(:email, 'cannot be empty') if !email || email.empty?\n    errors.add(:email, 'format is invalid') if email && !email.match?(/\\A[\\w+\\-.]+@[a-z\\d\\-]+(\\.[a-z\\d\\-]+)*\\.[a-z]+\\z/i)\n  end\n  \n  # Métodos de instancia de ejemplo\n  def full_info\n    \"#{name} (#{email})\"\n  end\n  \n  # Métodos de clase de ejemplo\n  def self.by_email(email)\n    where(email: email).first\n  end\nend","size_bytes":669}},"version":1}